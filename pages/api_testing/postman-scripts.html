<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Postman</title>
    <link rel="stylesheet" href="../../assests/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../assests/css/style.css">
    <link rel="stylesheet" href="../../assests/css/prism-tomorrow.min.css">
</head>

<body>

    <body>

        <div class="details-container">
            <details>
                <summary>pm.test</summary>
                <div class="content">
                    <ul>
                        <li>
                            <p><strong>Description</strong>: Defines and runs a test for the response.</p>
                        </li>
                        <li>
                            <p><strong>Syntax</strong>:
                                <code>pm.test(&quot;Test name&quot;, function () { /* test code */ })</code>
                            </p>
                        </li>
                        <li>
                            <p><strong>Example</strong>:</p>
                            <pre><code class="language-javascript">pm.test(&quot;Status code is 200&quot;, function () {
    pm.response.to.have.status(200);
});
</code></pre>
                        </li>
                    </ul>
                </div>
            </details>

            <details>
                <summary>pm.expect</summary>
                <div class="content">
                    <ul>
                        <li>
                            <p><strong>Description</strong>: Provides assertion functionality to validate test
                                conditions. Works similarly
                                to the Chai.js <code>expect</code> function.</p>
                        </li>
                        <li>
                            <p><strong>Example</strong>:</p>
                            <pre><code class="language-javascript">pm.expect(pm.response.code).to.equal(200);
</code></pre>
                        </li>
                    </ul>
                </div>
            </details>

            <details>
                <summary>pm.response</summary>
                <div class="content">
                    <ul>
                        <li>
                            <p><strong>Description</strong>: Holds the response data of the current request.</p>
                        </li>
                        <li>
                            <p><strong>Properties/Methods</strong>:</p>
                            <ul>
                                <li><code>pm.response.json()</code>: Parses and returns the JSON body of the response.
                                </li>
                                <li><code>pm.response.text()</code>: Returns the response body as a raw text string.
                                </li>
                                <li><code>pm.response.code</code>: HTTP status code of the response.</li>
                                <li><code>pm.response.headers</code>: Allows access to response headers.</li>
                            </ul>
                        </li>
                        <li>
                            <p><strong>Example</strong>:</p>
                            <pre><code class="language-javascript">var jsonData = pm.response.json();
pm.expect(jsonData).to.have.property(&quot;id&quot;);
</code></pre>
                        </li>
                    </ul>
                </div>
            </details>

            <details>
                <summary>pm.request</summary>
                <div class="content">
                    <ul>
                        <li>
                            <p><strong>Description</strong>: Holds data related to the current request, allowing
                                inspection and
                                modification.</p>
                        </li>
                        <li>
                            <p><strong>Properties/Methods</strong>:</p>
                            <ul>
                                <li><code>pm.request.url</code>: The URL of the request.</li>
                                <li><code>pm.request.headers</code>: Access to request headers.</li>
                                <li><code>pm.request.method</code>: The HTTP method used (e.g., GET, POST).</li>
                            </ul>
                        </li>
                        <li>
                            <p><strong>Example</strong>:</p>
                            <pre><code class="language-javascript">console.log(pm.request.url.toString());
</code></pre>
                        </li>
                    </ul>
                </div>
            </details>

            <details>
                <summary>pm.environment</summary>
                <div class="content">
                    <ul>
                        <li>
                            <p><strong>Description</strong>: Provides access to environment variables, which are useful
                                for storing values
                                for later use within the environment scope.</p>
                        </li>
                        <li>
                            <p><strong>Methods</strong>:</p>
                            <ul>
                                <li><code>pm.environment.set(&quot;variableName&quot;, &quot;value&quot;)</code>: Sets
                                    an environment
                                    variable.</li>
                                <li><code>pm.environment.get(&quot;variableName&quot;)</code>: Gets the value of an
                                    environment variable.
                                </li>
                                <li><code>pm.environment.unset(&quot;variableName&quot;)</code>: Removes an environment
                                    variable.</li>
                            </ul>
                        </li>
                        <li>
                            <p><strong>Example</strong>:</p>
                            <pre><code class="language-javascript">pm.environment.set(&quot;token&quot;, &quot;12345&quot;);
console.log(pm.environment.get(&quot;token&quot;));
</code></pre>
                        </li>
                    </ul>
                </div>
            </details>

            <details>
                <summary>pm.globals</summary>
                <div class="content">
                    <ul>
                        <li><strong>Description</strong>: Works similarly to <code>pm.environment</code>, but stores
                            global variables
                            (available across all collections and requests).</li>
                        <li><strong>Methods</strong>:<ul>
                                <li><code>pm.globals.set(&quot;variableName&quot;, &quot;value&quot;)</code></li>
                                <li><code>pm.globals.get(&quot;variableName&quot;)</code></li>
                                <li><code>pm.globals.unset(&quot;variableName&quot;)</code></li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </details>

            <details>
                <summary>pm.collectionVariables</summary>
                <div class="content">
                    <ul>
                        <li><strong>Description</strong>: Used for setting variables within a specific collection.</li>
                        <li><strong>Methods</strong>:<ul>
                                <li><code>pm.collectionVariables.set(&quot;variableName&quot;, &quot;value&quot;)</code>
                                </li>
                                <li><code>pm.collectionVariables.get(&quot;variableName&quot;)</code></li>
                                <li><code>pm.collectionVariables.unset(&quot;variableName&quot;)</code></li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </details>

            <details>
                <summary>pm.cookies</summary>
                <div class="content">
                    <ul>
                        <li>
                            <p><strong>Description</strong>: Provides methods to get and set cookies.</p>
                        </li>
                        <li>
                            <p><strong>Methods</strong>:</p>
                            <ul>
                                <li><code>pm.cookies.get(&quot;cookieName&quot;)</code>: Get a specific cookie.</li>
                                <li><code>pm.cookies.has(&quot;cookieName&quot;)</code>: Check if a specific cookie is
                                    set.</li>
                            </ul>
                        </li>
                        <li>
                            <p><strong>Example</strong>:</p>
                            <pre><code class="language-javascript">pm.test(&quot;Session cookie is set&quot;, function () {
    pm.expect(pm.cookies.has(&quot;session_id&quot;)).to.be.true;
});
</code></pre>
                        </li>
                    </ul>
                </div>
            </details>

            <details>
                <summary>pm.iterationData</summary>
                <div class="content">
                    <ul>
                        <li>
                            <p><strong>Description</strong>: Gives access to data from a CSV or JSON file loaded in the
                                Collection Runner.
                            </p>
                        </li>
                        <li>
                            <p><strong>Methods</strong>:</p>
                            <ul>
                                <li><code>pm.iterationData.get(&quot;variableName&quot;)</code>: Get a specific variable
                                    from the iteration
                                    data.</li>
                            </ul>
                        </li>
                        <li>
                            <p><strong>Example</strong>:</p>
                            <pre><code class="language-javascript">let value = pm.iterationData.get(&quot;username&quot;);
</code></pre>
                        </li>
                    </ul>
                </div>
            </details>

            <details>
                <summary>pm.variables</summary>
                <div class="content">
                    <ul>
                        <li>
                            <p><strong>Description</strong>: Allows access to any variable in scope (global,
                                environment, collection, or
                                local).</p>
                        </li>
                        <li>
                            <p><strong>Methods</strong>:</p>
                            <ul>
                                <li><code>pm.variables.get(&quot;variableName&quot;)</code>: Get a variable’s value from
                                    any scope.</li>
                            </ul>
                        </li>
                        <li>
                            <p><strong>Example</strong>:</p>
                            <pre><code class="language-javascript">console.log(pm.variables.get(&quot;baseUrl&quot;));
</code></pre>
                        </li>
                    </ul>
                </div>
            </details>

            <details>
                <summary>pm.info</summary>
                <div class="content">
                    <ul>
                        <li><strong>Description</strong>: Contains information about the current request, such as
                            request name and
                            iteration.</li>
                        <li><strong>Properties</strong>:<ul>
                                <li><code>pm.info.requestName</code>: Name of the current request.</li>
                                <li><code>pm.info.iteration</code>: Current iteration count in the Collection Runner.
                                </li>
                                <li><code>pm.info.requestId</code>: Unique ID of the current request.</li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </details>

            <details>
                <summary>pm.sendRequest</summary>
                <div class="content">
                    <ul>
                        <li>
                            <p><strong>Description</strong>: Allows sending additional requests within a test script.
                            </p>
                        </li>
                        <li>
                            <p><strong>Syntax</strong>: <code>pm.sendRequest(options, callback)</code></p>
                        </li>
                        <li>
                            <p><strong>Example</strong>:</p>
                            <pre><code class="language-javascript">pm.sendRequest(&quot;&lt;https://jsonplaceholder.typicode.com/posts/1&gt;&quot;, function (err, response) {
    console.log(response.json());
});
</code></pre>
                        </li>
                    </ul>
                </div>
            </details>

            <details>
                <summary>Properties and Methods of pm.response</summary>
                <div class="content">
                    <pre><code class="language-javascript">pm.test("Status code is 200", function () {
                            pm.expect(pm.response.code).to.equal(200);
                        });

                        pm.test("Status text is OK", function () {
                            pm.expect(pm.response.status).to.equal("OK");
                        });

                        pm.test("Response has a name field", function () {
                            pm.expect(pm.response.json()).to.have.property("name");
                        });

                        pm.test("Response contains 'success'", function () {
                            pm.expect(pm.response.text()).to.include("success");
                        });

                        // pm.response.headers.get("Header-Name")
                        // pm.response.headers.has("Header-Name")

                        pm.test("Content-Type is application/json", function () {
                            pm.expect(pm.response.headers.get("Content-Type")).to.equal("application/json");
                        });

                        pm.test("Response time is less than 200ms", function () {
                            pm.expect(pm.response.responseTime).to.be.below(200);
                        });

                        // pm.response.size().body
                        // pm.response.size().header

                        pm.test("Response body size is less than 1KB", function () {
                            pm.expect(pm.response.size().body).to.be.below(1024);
                        });

                        pm.test("Verify JSON data is an object", function () {
                            pm.expect(pm.response.jsonData).to.be.an("object");
                        });                        
                    </code></pre>
                </div>
            </details>

            <details>
                <summary>Common Assertions with pm.expect</summary>
                <div class="content">
                    <pre><code class="language-javascript">
                        // Basic systax 
                        pm.expect(actual).to.equal(expected);

                        // Equality Checks
                        pm.expect(pm.response.code).to.equal(200); // Checks if status code is 200

                        // Type Checks
                        pm.expect(pm.response.json()).to.be.an("object"); // Checks if the response is an object
                        pm.expect("hello").to.be.a("string"); // Checks if it's a string

                        // Existence Checks
                        pm.expect(pm.response.json()).to.have.property("name"); // Checks if "name" exists in the JSON response
                        pm.expect(pm.response.json().name).to.exist; // Checks if the "name" field itself exists

                        // Comparison Checks
                        pm.expect(pm.response.responseTime).to.be.below(500); // Checks if response time is below 500ms
pm.expect(pm.response.code).to.be.at.least(200); // Checks if status code is 200 or more

// string matching 
var responseBody = pm.response.text();
pm.expect(responseBody).to.include("success"); // Checks if "success" is in the response body
pm.expect(responseBody).to.match(/success/); // Regex check

// array and object assertions 
var jsonData = pm.response.json();
pm.expect(jsonData.tags).to.be.an("array").that.includes("featured"); // Checks if tags array has "featured"
pm.expect(jsonData.tags).to.have.lengthOf(5); // Checks if tags array has exactly 5 items

pm.expect(pm.response.code).to.not.equal(404); // Checks that status is not 404
pm.expect(pm.response.text()).to.not.include("error"); // Ensures "error" is not in the response

pm.expect(pm.response.code).to.be.above(199).and.below(300); // Status code is between 200 and 299
                    </code></pre>
                </div>
            </details>
        </div>

        <div class="home-link">
            <a class="btn btn-primary" href="../../index.html">Home</a>
        </div>
        <script src="../../assests/js/bootstrap.bundle.min.js"></script>
        <script src="../../assests/js/script.js"></script>
        <script src="../../assests/js/prism.min.js"></script>
    </body>

</html>