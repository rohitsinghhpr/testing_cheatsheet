<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>httpurlconnection Class - Java</title>
    <link rel="stylesheet" href="../../assests/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../assests/css/prism-tomorrow.min.css">
    <link rel="stylesheet" href="../../assests/css/style.css">
</head>

<body>

    <div class="details-container">
        <h2>Overview</h2>
        <p>The <code>HttpURLConnection</code> class is a subclass of <code>URLConnection</code> and provides methods for
            HTTP-specific operations. It allows sending and receiving data over the HTTP protocol, including handling
            GET, POST, PUT, DELETE, and other HTTP methods.</p>

        <h2>Key Features</h2>
        <ul>
            <li>Support for various HTTP methods like GET, POST, PUT, DELETE, etc.</li>
            <li>Handles HTTP response codes.</li>
            <li>Provides features to read and write request/response headers.</li>
            <li>Supports timeouts and redirects.</li>
        </ul>

        <h2>How to Obtain an Instance</h2>
        <p>To create an instance of <code>HttpURLConnection</code>, you use the <code>URL</code> class:</p>
        <pre><code class="language-java">URL url = new URL("https://www.example.com");
HttpURLConnection connection = (HttpURLConnection) url.openConnection();
</code></pre>

        <h2>Important Methods</h2>
        <ul>
            <li>
                <strong><code>setRequestMethod(String method)</code></strong>:
                <p>Sets the HTTP method (e.g., <code>GET</code>, <code>POST</code>).</p>
            </li>
            <li>
                <strong><code>getResponseCode()</code></strong>:
                <p>Returns the HTTP response code (e.g., 200, 404).</p>
            </li>
            <li>
                <strong><code>getResponseMessage()</code></strong>:
                <p>Returns the HTTP response message (e.g., "OK" for 200).</p>
            </li>
            <li>
                <strong><code>setRequestProperty(String key, String value)</code></strong>:
                <p>Sets a request header property.</p>
            </li>
            <li>
                <strong><code>getHeaderField(String name)</code></strong>:
                <p>Returns the value of a specific response header field.</p>
            </li>
            <li>
                <strong><code>getInputStream()</code></strong>:
                <p>Returns an input stream to read the response body (used for successful responses).</p>
            </li>
            <li>
                <strong><code>getErrorStream()</code></strong>:
                <p>Returns an input stream to read the error response body (used for error responses).</p>
            </li>
            <li>
                <strong><code>setDoOutput(boolean doOutput)</code></strong>:
                <p>Enables or disables output for the connection (needed for POST and PUT).</p>
            </li>
            <li>
                <strong><code>disconnect()</code></strong>:
                <p>Disconnects the connection and releases resources.</p>
            </li>
        </ul>

        <h2>Example Code</h2>
        <pre><code class="language-java">import java.io.BufferedReader;
import java.io.InputStreamReader;
import java.io.OutputStream;
import java.net.HttpURLConnection;
import java.net.URL;

public class HttpURLConnectionExample {
    public static void main(String[] args) {
        try {
            URL url = new URL("https://www.example.com/api");
            HttpURLConnection connection = (HttpURLConnection) url.openConnection();
            connection.setRequestMethod("GET");
            connection.setRequestProperty("User-Agent", "Mozilla/5.0");

            int responseCode = connection.getResponseCode();
            System.out.println("Response Code: " + responseCode);

            if (responseCode == HttpURLConnection.HTTP_OK) {
                BufferedReader in = new BufferedReader(new InputStreamReader(connection.getInputStream()));
                String inputLine;
                StringBuilder response = new StringBuilder();

                while ((inputLine = in.readLine()) != null) {
                    response.append(inputLine);
                }
                in.close();

                System.out.println("Response: " + response.toString());
            } else {
                System.out.println("Request failed");
            }

            connection.disconnect();
        } catch (Exception e) {
            e.printStackTrace();
        }
    }
}
</code></pre>

        <h2>Key Points</h2>
        <ul>
            <li>The <code>HttpURLConnection</code> class is part of the <code>java.net</code> package.</li>
            <li>It supports both HTTP and HTTPS connections.</li>
            <li>Ensure proper resource management by closing streams and calling <code>disconnect()</code>.</li>
        </ul>

    </div>

    <div class="home-link">
        <a class="btn btn-primary" href="../../index.html">Home</a>
    </div>
    <script src="../../assests/js/bootstrap.bundle.min.js"></script>
    <script src="../../assests/js/prism.min.js"></script>
    <script src="../../assests/js/prism-java.min.js"></script>
    <script src="../../assests/js/script.js"></script>
</body>

</html>